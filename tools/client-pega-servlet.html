<html>
<head>
    <title>Getting Started</title>

</head>
<body>
    <!--script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script-->
    <script src="index.bundle.js"></script>
    <script>
        var tracer;
        window.onload = function(){
            //let connectionId = window.prompt("Connection id", "HZLII280ZPEO7SDYSSOCUXO3TVT6AP86XA");
            tracer = new Tracer("HZLII280ZPEO7SDYSSOCUXO3TVT6AP86XA");
            tracer.registerEventCallback(function(event){
                let table = document.getElementById("events-table");
                let row = document.createElement("tr");
                let col1 = document.createElement("td");
                col1.innerHTML = event.sequenceNumber;
                row.appendChild(col1);
                let col2 = document.createElement("td");
                col2.innerHTML = event.threadname;
                row.appendChild(col2);
                let col3 = document.createElement("td");
                col3.innerHTML = event.interaction;
                row.appendChild(col3);
                let col4 = document.createElement("td");
                col4.innerHTML = event.intNumber;
                row.appendChild(col4);
                let col5 = document.createElement("td");
                col5.innerHTML = event.ruleNumber;
                row.appendChild(col5);
                let col6 = document.createElement("td");
                col6.innerHTML = event.stepMethod;
                row.appendChild(col6);
                let col7 = document.createElement("td");
                col7.innerHTML = event.primaryPageName;
                row.appendChild(col7);
                let col8 = document.createElement("td");
                col8.innerHTML = event.stepNumber;
                row.appendChild(col8);
                let col9 = document.createElement("td");
                col9.innerHTML = event.eventType;
                row.appendChild(col9);
                let col10 = document.createElement("td");
                col10.innerHTML = event.timeStamp;
                row.appendChild(col10);
                let col11 = document.createElement("td");
                col11.innerHTML = event.activityName;
                row.appendChild(col11);
                let col12 = document.createElement("td");
                col12.innerHTML = event.sRSName + " " + event.sRSVersion;
                row.appendChild(col12);

                table.append(row);

            });
            tracer.start();
        };
    </script>
    <div>
        <input onclick="tracer.stop()" type="button" value="Pause">
        <input onclick="tracer.start()" type="button" value="Play">
        <input onclick="tracer.clear()" type="button" value="Clear">
    </div>
    <div>
        <table id="events-table">
            <tr>
                <th>line</th>
                <th>thread</th>
                <th>int</th>
                <th>rule#</th>
                <th>step method</th>
                <th>step page</th>
                <th>step</th>
                <th>status</th>
                <th>event type</th>
                <th>elapsed</th>
                <th>name</th>
                <th>ruleset</th>
            </tr>
        </table>
    </div>
</body>
</html>